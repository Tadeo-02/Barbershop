generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Categoria {
  codCategoria      String @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  nombreCategoria   String @db.VarChar(50)
  descCategoria     String @db.VarChar(250)
  descuentoCorte    Float  @db.Float
  descuentoProducto Float  @db.Float

  @@map("categorias")
}

model Turno {
  codTurno         String    @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  codCorte         String?   @db.VarChar(36)
  codHorario       String    @unique(map: "codHorario_2") @db.VarChar(36)
  codCliente       String    @db.VarChar(36)
  precioTurno      Float?    @db.Float
  metodoPago       String?   @db.VarChar(20)
  fechaCancelacion DateTime? @db.Date

  @@index([codHorario], map: "codBarbero")
  @@index([codCliente], map: "codCliente")
  @@index([codCorte], map: "codCorte")
  @@index([codHorario], map: "codHorario")
  @@map("turnos")
}

model categoria_vigente {
  codCategoriaVigente String   @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  codCategoria        String   @db.VarChar(36)
  codCliente          String   @db.VarChar(36)
  ultimaFechaInicio   DateTime @db.Date

  @@index([codCategoria], map: "codCategoria")
  @@index([codCliente], map: "codCliente")
}

model estado_del_turno {
  codEstadoDelTurno String @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  codEstado         String @db.VarChar(36)
  codTurno          String @db.VarChar(36)

  @@index([codEstado], map: "codEstado")
  @@index([codTurno], map: "codTurno")
}

model estado_turno {
  codEstado    String @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  nombreEstado String @db.VarChar(50)
  descEstado   String @db.VarChar(250)
}

model sucursales {
  codSucursal String @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  calle       String @db.VarChar(50)
  altura      Int
}

model tipos_corte {
  codCorte    String @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  nombreCorte String @db.VarChar(50)
  valorBase   Float  @db.Float
}

model usuarios {
  codUsuario  String  @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  dni         String  @db.VarChar(8)
  cuil        String? @db.VarChar(13)
  codSucursal String? @db.VarChar(36)
  nombre      String  @db.VarChar(50)
  apellido    String  @db.VarChar(50)
  telefono    String  @db.VarChar(20)
  email       String  @db.VarChar(50)
  contrase_a  String  @map("contrase√±a") @db.VarChar(50)

  @@index([codSucursal], map: "codSucursal")
}

model horarios {
  codHorario String   @id @default(dbgenerated("(uuid())")) @db.VarChar(36)
  codBarbero String   @db.VarChar(36)
  fecha      DateTime @db.Date
  horaDesde  DateTime @db.Time(0)
  horaHasta  DateTime @db.Time(0)
  estado     String   @db.VarChar(10)

  @@index([codBarbero], map: "codBarbero")
}
